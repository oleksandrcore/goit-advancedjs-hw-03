{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchRequest(searchQuery) {\n  const searchParams = new URLSearchParams({\n    key: '45176737-eefebace9d6de0f5929b63080',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  document.querySelector('.loader').style.display = 'inline-block';\n  document.querySelector('.gallery').style.display = 'none';\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => data.hits)\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      document.querySelector('.loader').style.display = 'none';\n      document.querySelector('.gallery').style.display = 'flex';\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGallery(imgArray) {\n  const gallery = document.querySelector('.gallery');\n\n  gallery.innerHTML = '';\n\n  const imageItems = imgArray\n    .map(image => {\n      return `<li class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n              <img\n                  class=\"gallery-image\"\n                  src=\"${image.previewURL}\"\n                  data-source=\"${image.largeImageURL}\"\n                  alt=\"${image.tags}\"\n              />\n              <div class=\"image-details\">\n            <div class=\"details-element\">\n              <p class=\"details-title\">Likes</p>\n              <p class=\"details-value\">${image.likes}</p>\n            </div>\n            <div class=\"details-element\">\n              <p class=\"details-title\">Views</p>\n              <p class=\"details-value\">${image.views}</p>\n            </div>\n            <div class=\"details-element\">\n              <p class=\"details-title\">Comments</p>\n              <p class=\"details-value\">${image.comments}</p>\n            </div>\n            <div class=\"details-element\">\n              <p class=\"details-title\">Downloads</p>\n              <p class=\"details-value\">${image.downloads}</p>\n            </div>\n          </div>\n              </a>\n              </li>`;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', imageItems);\n\n  lightbox.refresh();\n}\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nlightbox.on('show.simplelightbox');\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchRequest } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchData = document.querySelector('.search-input').value.trim();\n  if (searchData === '') {\n    iziToast.error({\n      id: 'error',\n      message: 'The search field cannot be empty',\n      position: 'topRight',\n      transitionIn: 'fadeInDown',\n    });\n    gallery.innerHTML = '';\n  } else {\n    searchRequest(searchData)\n      .then(hits => {\n        console.log(hits);\n        if (hits.length === 0) {\n          iziToast.error({\n            id: 'error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            transitionIn: 'fadeInDown',\n          });\n        }\n\n        renderGallery(hits);\n      })\n      .catch(error => {\n        console.error('Error:', error);\n      });\n  }\n});\n"],"names":["searchRequest","searchQuery","url","response","data","error","renderGallery","imgArray","gallery","imageItems","image","lightbox","SimpleLightbox","form","event","searchData","iziToast","hits"],"mappings":"wvBAAO,SAASA,EAAcC,EAAa,CASzC,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,CAEmD,GAEpD,gBAAS,cAAc,SAAS,EAAE,MAAM,QAAU,eAClD,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,OAE5C,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACb,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClD,SAAS,cAAc,UAAU,EAAE,MAAM,QAAU,MACzD,CAAK,CACL,CC1BO,SAASC,EAAcC,EAAU,CACtC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAaF,EAChB,IAAIG,GACI;AAAA,8CACiCA,EAAM,aAAa;AAAA;AAAA;AAAA,yBAGxCA,EAAM,UAAU;AAAA,iCACRA,EAAM,aAAa;AAAA,yBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yCAKMA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,oBAKnD,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAU,EAElDE,EAAS,QAAO,CAClB,CAEA,IAAIA,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEDD,EAAS,GAAG,qBAAqB,EC/CjC,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CL,EAAU,SAAS,cAAc,UAAU,EAEjDK,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAa,SAAS,cAAc,eAAe,EAAE,MAAM,OAC7DA,IAAe,IACjBC,EAAS,MAAM,CACb,GAAI,QACJ,QAAS,mCACT,SAAU,WACV,aAAc,YACpB,CAAK,EACDR,EAAQ,UAAY,IAEpBR,EAAce,CAAU,EACrB,KAAKE,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EACZA,EAAK,SAAW,GAClBD,EAAS,MAAM,CACb,GAAI,QACJ,QACE,2EACF,SAAU,WACV,aAAc,YAC1B,CAAW,EAGHV,EAAcW,CAAI,CAC1B,CAAO,EACA,MAAMZ,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACrC,CAAO,CAEP,CAAC"}